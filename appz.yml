app:
  name: AppzMongoDB
  code: AMDB
  notify: hshankar@ecloudcontrol.com

build:
  version: 4.4
  env: DEV
  build_file: none
  output_files: output/*.zip
  image_template: mongo-4.4
  
deploy:
  context: alpha/DEV
  type: statefulset
  #ingress: none
  replicas: 3
  port:
  - 27017
  - 9216
  
volumes:
- claim: mongo-data
  mount: /appz/data
  name: mongo-data
  size: 5Gi
  mode: ReadWriteOnce
- claim: mongo-key
  mount: /appz/keys
  name: mongo-key
  size: 1Gi
  mode: ReadWriteOnce


properties:
  DB_USER_ADMIN: admin
  DB_USER_ADMIN_PASSWORD:
     vault: DB_USER_ADMIN_PASSWORD
  MONGO_SIDHARTH_PASSWORD:
     vault: MONGO_SIDHARTH_PASSWORD
  AUTH_KEY: 
     vault: AUTH_KEY
  REPLICATION: 3
#  MONGO_PRIMARY: mongodb-4-4-0.mongodb-4-4:27017
#  MONGO_SECONDARY_1: mongodb-4-4-1.mongodb-4-4:27017
#  MONGO_SECONDARY_2: mongodb-4-4-2.mongodb-4-4:27017
  #POSTGRES_04:
  #POSTGRES_05:

  
  revision : 30
